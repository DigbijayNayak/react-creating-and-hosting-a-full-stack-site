# Creating a Node.js Back End

## 1. Why Node.js?

- All right, so now that we've got our client side working nicely, it's time to start building the backend of our blog. And to do this, we're going to be using Node.js. Now, you've probably already heard about Node.js by now and you should have it installed locally on your computer.
- If you don't, you're going to want to head to nodejs.org and download the Long Term Support or current version of Node.js. And Node.js is really important for us because it allows us to write our backend in JavaScript instead of in PHP or Python or Java.
- Right, as I said in the introduction, it used to be that in order to be a full stack developer you had to be fairly fluent in more than one programming language, but with Node.js, which has become an incredibly popular framework since it was released, our entire web application can now be written in JavaScript, which is great news for JavaScript developers like us.
- Now, there are many different npm packages that can be used to create Node.js servers. And the one we're going to be using in these videos is called Express. Now, Express is a great choice for us because it's unopinionated, it's very easy to get started with, and it's also very well documented and you can feel free to take a look at the documentation for Express just by going to expressjs.com and looking at the API reference.
- And in addition to this, there are a ton of third-party add-ons that can be used to extend Express's functionality, which, as we'll see later on, can really come in handy. So without further ado, let's get started creating our backend with Node.js in Express.
- https://nodejs.org/en/docs
- https://expressjs.com/en/4x/api.html

## 2. Setting up an Express server

- All right. To get started creating a backend for our app with NodeJS and Express, what we're going to do is create a directory outside of this front end directory that we've been working with so far, right? That we called my blog. So what you're going to want to do is open up a terminal and type CD and then dot. And that will send you back out into the parent folder.
- And then what we're going to do is just create a new folder inside of here alongside our my blog directory. And we'll call that something like my blog backend. So what you're going to do for that, assuming of course that you're on Mac this may well be different if you're on Windows. So just look up how to create a new directory in Windows or whatever operating system you're on.
- And then you're going to say my blog backend, right? So this is the name that you want for the directory. Okay, so once we've created that, we're just going to open that up in visual studio code and you can either do that just by going to file open in visual studio code.
- Or if you have your terminal setup to do this, you can just say code and then my blog backend, and that should open it for you in a new window. Okay, so we now have this nice empty directory. And what we're going to do here is initialize this as a new NPM package. And the way that we can do that is again by opening a terminal here and running the command `npm init -y` which will do things like create a new package.json file inside our folder and help us keep track of different things about our backend project. All right.
- So once we've done that, the next thing that we're going to do is install the express package which we're going to be using to build our server. And the way we're going to do that is by running the command `npm install express`, and hitting enter, and that should install express for us. And the next thing that we're going to do now is create a source folder where we'll be storing all of our source codes. So what we're going to do is just right click inside of here and do new folder.
- And we'll just call this folder source. And this will contain all of our server side code. And the last file that we're going to need to create here is a file called server.js. And this is where we're going to be writing all of our server code, but before we write our server code, what we're going to want to do is set up this project so that we can use modern JavaScript, syntax such as the import and export syntax. And in order to do that, this used to actually be a lot more complicated.
- You used to have to install Babel and set up a Babel RC but now all you have to do in order to make that syntax work, is go into your package.json file and add a single property to that called type. And the value for that is going to be module and make sure that you add a comma on the end of that line, because if not, it will cause an error. Like this `"type": "module",`. Cool, so now that we've added that we can start creating our new express server inside this server.js file. So this is a pretty straightforward thing to do.
- And what we're going to do as an example, is we're just going to create a very simple express server that sends us a message when we send a request to it. So the first thing that we need to do here is import the express package that we just installed. And we can do that by saying `import express from 'express'`. And after we've done that, we're going to create a new express app by saying const app equals.
- And then we're going to say express and call that as a function like this `const app = express();`, which will create a new express app for us. Okay, so now that we have this app object, we can define different end points and what we want our server to do when one of those endpoints receives a request. So let's start off very simply, let's make it so that when our app receives a get request on an endpoint slash hello, it will simply respond with a message saying, hello. Like this

  ```js
  app.get("/hello", (req, res) => {
    res.send("Hello!");
  });
  ```

- All right, pretty simple, straightforward. It's a good hello world program to do. Okay, so in order to make our express app do that, all we have to do is say app.get, this is the type of the request here. And then app.get takes two arguments. The first one is going to be the route, right? The specific path that we want to listen for. And the second argument here is a callback that gets called whenever this endpoint receives a request. So this callback has two main arguments. The first one is a request object which contains details about the request that we received.
- And the second one is a response object which we can use to send a response back to whoever sent the request. Okay, so for our purposes, what we're going to do is just say request a response. And the body of this callback function is just going to say response.send and we'll send back the message, hello, okay? And response.send here is one of several functions that we can use to send back a response in this case, a response as you can see is just the string hello. Okay, so we've defined the endpoint behavior.
- So the last thing that we have to do is tell our server to listen, and this is going to be done by saying app.listen. And this function takes an argument to specify which port we should listen on. So we'll just do 8,000 here. And it's also going to take a callback that will get called once the server is actually listening. And we usually just use this to log out a message to the console saying that the server is listening. So inside here, we can just say console.log. And we'll say, server is listening on port 8,000. (keyboard clicks) Okay, and that's all there is to it. All we have to do now is use NodeJS to run our express server. And the command that we have to use for that, is node source slash server.js.
- And if we hit enter now, we'll see that it says server is listening on port 8,000. And what we should be able to do now is go over to a browser and enter in local host 8,000 slash hello and hit enter. And what we'll see sure enough is the response that we got from the server saying hello. So everything's working great so far. Next, we're going to see how we can actually make our app do some useful things. And we're also going to take a look at a better tool for testing our server.

## 3. Testing an Express server with Postman

## 4. URL parameters in Express

## 5. Upvoting articles

## 6. Automatically updating with nodemon

## 7. Adding comments
