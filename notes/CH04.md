# Connecting the Front End and Back End

## 1. The Axios library

- All right. So at this point we have both the front end and back end of our full stack blog application, mostly complete, at least complete enough to actually start bringing the two ends together. Now to get ourselves started here. What you're going to want to do is open up both the front end and back end in your IDE. I usually like to open these up inside the same window, but you can also open them up in separate windows.
- So what I'm going to do in order to open them up in the same window is just change directories out to the containing directory, and run code dot. And that will open up both the front and the backend folders inside the same IDE window. Which will make it pretty easy to work with as you'll see. All right, so we have the front end and back end now. And our next task is to connect these things, right.
- Essentially what we want to do, is have our front end make the same types of requests that we were making from postman, but obviously the front end is going to need to make those requests using code. Now, there are several ways to get the front end to do this, but the way that we're going to be doing it, is using a library called Axios.
- Now, Axios is an incredibly popular library for making network requests, and it can be installed into either front end or backend projects, and used to make any type of request to pretty much any URL. So we're going to be using this library in order to have our front end make requests to the back end. So this is sort of our front ends postman, if you will. All right.
- So first things first let's install the Axios library, and we're going to want to install that into our front end directories. So let's open up a terminal, and you're going to want to make sure that you're in the front end directory by saying CD my blog. And once you're there, we're going to install Axios by typing NPM, install, Axios and hitting enter. Okay. So that will install the Axios library for us. So now let's talk about how the Axios library is actually going to be used in our front end application. Okay. So I'm just going to open up the app dot JS file here.
- And I'm just going to use this as an example. I'll just scroll all the way down so that I can use this as a sort of whiteboard, if you will. So the Axios library, it's actually incredibly simple. All you have to do is import it and once you've imported it, you can make requests to any URL you want by calling Axios dot, and then the type of request you want to make. So if you want to make a get request, all you need to do is say Axios dot get. And then the argument that you're going to pass to this, is going to be the URL that you want to make this request to. So in our case, we'll want to make the request to HTTP, colon slash slash local host, 8,000.
- And let's say we want to load the article data for some article, we would say slash API, slash articles, slash, and then we'd have the article ID such as learn-react, all right? And that function, called in the way that we're calling it right here, will make a request to our server. And in order to get the response that our server sends back, all you need to do is say const response, equals await, Axios dot, get, all right.
- So most of these functions that Axios provides, like get or post, you can also do Axio dot post, or Axio dot put, these are all going to be asynchronous, which means that you'll need to use the await keyword with them. All right. And that will give you the response, the way that you can get the data that the response contains. Right? So if we said response dot JSON, for example on the server side, we could get that by saying const, data, equals response dot data.
- And that's really all there is to it. All right. Now, there are other things that we might want to do, like add data to the requests that we're sending from Axios, but that's something that we'll take a look at a little later when we get there. So that's the Axios library. And as I said, this is what we're going to be using to tie our front end and back end together. So let's just delete this code here. And the next thing that we're going to want to do is take a look at how to start loading some data into our components.

## 2. Adding React hooks

- All right, so now that we've installed the Axios library and we know the basic syntax that it uses, let's take a look at how to load data into our article page from the server. So, the first thing that we're going to want to do here is open up our article page. And this is where we're going to be writing most of our code for this video.
- So, our basic goal here with loading data is when we visit the article page, right, when one of our article pages is first displayed, we'll want that page to make a request to our server. And we'll want our server, obviously, to send back the number of upvotes and comments for that article, which our article page will then display.
- So, there's a few steps here. The first thing that we're going to need to do is actually load the data in the first place. And then we'll need to add a few more components and elements down here in our article page's JSX, you know and create components such as the comment form. So, the first thing that we're going to have to do here in order to be able to load data and use it, is we're going to have to add state to our component, right? Currently, none of our components really have any kind of memory.
- They're just returning some JSX depending on the props that we pass into them and the hooks that they happen to be using, such as this useParams hook here. All right, now the entire point of state in this context is to give us a place to store the response that we get back from the server.
- So, the first thing that we're going to have to do is import reacts useState hook. Now, if you've never used this hook before this is just the way that in modern react we add state to our components. All right, and if you've never used this useState hook before, this is just the way that we add state to function components in modern react.
- So we're going to say import useState from react, and then down here in our article page, what we're going to do is say, const articleInfo and setArticleInfo. There we go. Equals useState, and for the default value here, we're going to say upvotes: 0 and comments, empty string or empty array rather. Okay, so what we just did here is we added a state called articleInfo to our article page component.
- And what we're going to need to do now, is make a request to the server and basically just set our article info state using the setArticleInfo function to the data that we get back from the server. And that will replace this default value here that we passed to the useState function. All right. So, the way that we're going to actually load data is using another react hook.
- And this other react hook is going to be called useEffect. Now, the entire point of the use effect hook in case you're not familiar with it is to allow us to add logic into our components that will be executed outside of the normal component rendering, right? So, in other words, useEffect hooks are where we want to put most of our logic for doing things like loading data from a server.
- So, what we're going to do is right underneath where we define our state, we're going to say useEffect. And for now let's just simulate what this use effect thing will look like by calling setArticleInfo with some fake data. All right, so we'll say upvotes, and let's just say that we want to set upvotes to 3 and we'll set comments to just an empty array like we had before.
- All right, now what we just wrote here is a simulation for what we'll be doing when we actually get back data from the server, which we'll see how to do in just a minute. And it's going to enable us to take a look at a few more complicated aspects of using the use effect hook to load data. So, now that we have this article info what we're going to do is head down here to where we have our main JSX for our article page component.
- And all we're going to do is underneath the article title, we're going to add a paragraph tag that says, this article has, and then we're going to add the number of upvotes that the article has by saying, articleInfo.upvotes, and then after that, we'll say upvotes. And in fact, we'll even put the S inside parenthesis so that it will make it a little more grammatically correct. Great.
- So, let's try this thing out. What we're going to do, is just run our front end and we can do that by changing directories into our, my blog directory. If you're not there already and running npm run start. And this will of course open up our react app in our browser.
- And if we go to our article page now by clicking on articles up here and clicking on one of our articles from the list, sure enough, it'll say this article has three upvotes. Now, at this point, this data is not actually from the server, right? We just hard coded that in our useEffect hook but this is the basic setup and hooks that we're going to be using to actually start loading data from the server. So, that's the next thing we're going to do is add the Axios library to this component and start making requests.

## 3. Calling useEffect at the right time

## 4. Adding data loading to page components

## 5. Displaying comments

## 6. Creating an upvote button

## 7. Creating an add comment form
